--- origsrc/exiv2-0.24/config/configure.ac	2013-07-23 21:47:31.000000000 -0500
+++ src/exiv2-0.24/config/configure.ac	2014-04-30 19:04:51.899862500 -0500
@@ -36,6 +36,7 @@ AC_CANONICAL_HOST
 # i18n support
 # ---------------------------------------------------------------------------
 AM_GNU_GETTEXT([external])
+AM_GNU_GETTEXT_VERSION([0.18.1])
 
 # ---------------------------------------------------------------------------
 # Libtool support
@@ -111,12 +112,12 @@ AC_ARG_ENABLE(visibility,
 AC_MSG_RESULT($VISIBILITY_SUPPORT)
 if test "$VISIBILITY_SUPPORT" = "yes"; then
     # Sun Studio C++ compiler (which apparently ignores -fvisibility-inlines-hidden)
-    AX_CXX_CHECK_FLAG(-xldscope=hidden,[],[],[VISIBILITY_SUPPORT=yes],[VISIBILITY_SUPPORT=no])
+    AX_CHECK_COMPILE_FLAG(-xldscope=hidden,[],[],[VISIBILITY_SUPPORT=yes],[VISIBILITY_SUPPORT=no])
     if test "$VISIBILITY_SUPPORT" = "yes"; then
         CXXFLAGS="${CXXFLAGS} -xldscope=hidden"
     else
         # GNU g++
-        AX_CXX_CHECK_FLAG(-fvisibility-inlines-hidden,[],[],[VISIBILITY_SUPPORT=yes],[VISIBILITY_SUPPORT=no])
+        AX_CHECK_COMPILE_FLAG(-fvisibility-inlines-hidden,[],[],[VISIBILITY_SUPPORT=yes],[VISIBILITY_SUPPORT=no])
         if test "$VISIBILITY_SUPPORT" = "yes"; then
            CXXFLAGS="${CXXFLAGS} -fvisibility=hidden -fvisibility-inlines-hidden"
         fi
--- origsrc/exiv2-0.24/src/Makefile	2014-04-30 19:02:47.009503400 -0500
+++ src/exiv2-0.24/src/Makefile	2014-04-30 19:10:28.462600500 -0500
@@ -94,10 +94,8 @@ CCSRC =  asfvideo.cpp          \
 	 orfimage.cpp          \
 	 panasonicmn.cpp       \
 	 pgfimage.cpp
-ifdef HAVE_LIBZ
 CCSRC += pngimage.cpp      \
 	 pngchunk.cpp
-endif
 CCSRC += preview.cpp       \
 	 properties.cpp        \
 	 psdimage.cpp          \
